#!/bin/bash


IP_ADDR=$(hostname --ip-address)
hadoop jar giraph.jar org.apache.giraph.GiraphRunner -Dmapred.job.tracker="$IP_ADDR" -Djava.net.preferIPv4Stack=true org.apache.giraph.examples.PageRankVertexComputation -eif org.apache.giraph.examples.io.formats.LongDoubleFloatDoubleEdgeInputFormat -eip hdfs://${HOSTNAME}:8020/user/"$1" -vof org.apache.giraph.io.formats.IdWithValueTextOutputFormat -op hdfs://${HOSTNAME}:8020/user/out/pagerank/"$1" -w "$2" -ca giraph.pageRank.superstepCount=30
hadoop jar giraph.jar org.apache.giraph.GiraphRunner -Dmapred.job.tracker="$IP_ADDR" -Djava.net.preferIPv4Stack=true org.apache.giraph.examples.SimpleShortestPathsComputation -eif org.apache.giraph.examples.io.formats.LongDoubleFloatDoubleEdgeInputFormat -eip hdfs://${HOSTNAME}:8020/user/"$1" -vof org.apache.giraph.io.formats.IdWithValueTextOutputFormat -op hdfs://${HOSTNAME}:8020/user/out/sssp/"$1" -w "$2" -ca SimpleShortestPathsVertex.sourceId=1
hadoop jar giraph.jar org.apache.giraph.GiraphRunner -Dmapred.job.tracker="$IP_ADDR" -Djava.net.preferIPv4Stack=true org.apache.giraph.examples.OutDegreeComputation -eif org.apache.giraph.examples.io.formats.LongDoubleFloatDoubleEdgeInputFormat -eip hdfs://${HOSTNAME}:8020/user/"$1" -vof org.apache.giraph.io.formats.IdWithValueTextOutputFormat -op hdfs://${HOSTNAME}:8020/user/out/degrees/"$1" -w "$2"
hadoop jar giraph.jar org.apache.giraph.GiraphRunner -Dmapred.job.tracker="$IP_ADDR" -Djava.net.preferIPv4Stack=true org.apache.giraph.examples.TriangleCensusComputation -eif org.apache.giraph.examples.io.formats.DoubleDoubleFloatDoubleEdgeInputFormat -eip hdfs://${HOSTNAME}:8020/user/"$1" -vof org.apache.giraph.io.formats.IdWithValueTextOutputFormat -op hdfs://${HOSTNAME}:8020/user/out/triangles/"$1" -w "$2"
